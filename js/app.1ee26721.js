(function(){"use strict";var e={4695:function(e,t,s){var o=s(9242),r=s(3396);function n(e,t,s,o,n,i){const a=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(a)}var i={name:"App"},a=s(89);const l=(0,a.Z)(i,[["render",n]]);var c=l,u=s(2483),d=s.p+"img/3Caracteres.1f0756ad.png";const m={class:"Home_"},g={class:"row m-0 container-fluid px-5 mt-5 Home_SectionPresentaionPlatform"},p={class:"col-12 col-md-6 Home_Presentaion-Text mt-4"},h=(0,r._)("h1",{class:"m-0 py-2"},[(0,r.Uk)(" Partagez "),(0,r._)("span",null,"&"),(0,r.Uk)(" Diffusez . ")],-1),f=(0,r._)("p",{class:"pt-3"}," Lorem ipsum, dolor sit amet consectetur adipisicing elit. Autem quos nobis expedita exercitationem architecto dolorum omnis maiores aliquid aut ad. Porro ab minus dolorem nisi saepe autem quidem tempore obcaecati. ",-1),v=(0,r._)("i",{class:"fa fa-arrow-right ml-2"},null,-1),w=(0,r._)("div",{class:"col-12 col-md-6 Home_Presentaion-Ullustration"},[(0,r._)("div",{class:"Home_CircleBackground m-auto"},[(0,r._)("img",{src:d,alt:"",srcset:""})])],-1);function k(e,t,s,o,n,i){const a=(0,r.up)("NavBarVue"),l=(0,r.up)("RouterLink"),c=(0,r.up)("HomeShareFileVue");return(0,r.wg)(),(0,r.iD)("div",m,[(0,r.Wm)(a),(0,r._)("section",g,[(0,r._)("div",p,[h,f,(0,r.Wm)(l,{class:"btn Home_ButtonJoinDiffusion px-3 py-2 mt-4",role:"button",to:"/join-server"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Joindre une diffusion "),v])),_:1}),(0,r.Wm)(l,{class:"btn Home_ButtonCreateDiffusion px-3 py-2 mt-4 ml-3",role:"button",to:"/creation-server"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Créer un serveur de diffusion")])),_:1})]),w]),(0,r.Wm)(c)])}var _=s(7139);const y={class:"d-flex justify-content-between align-items-center pt-3 px-4 Navbar_"},S=(0,r._)("h1",{class:"NavBar_Logo"},[(0,r.Uk)("Hi-zara."),(0,r._)("span",{class:"domain-name"},"mg")],-1),A={class:"NavBar_ButtonLogin my-auto d-flex align-items-center"},b={key:0,class:"Navbar_UserProfil px-5"},C={class:"user-profil"},D=["src"],x={key:0,class:"profil-configuration"},M=(0,r._)("label",{for:"profil"},[(0,r._)("i",{class:"fa fa-plus"})],-1),U={class:"user-name"},B=(0,r._)("i",{class:"fa fa-sign-out-alt"},null,-1),F=[B],O=(0,r._)("p",null,null,-1);function I(e,t,s,o,n,i){const a=(0,r.up)("RouterLink");return(0,r.wg)(),(0,r.iD)("header",y,[S,(0,r._)("div",A,[n.isAuth?((0,r.wg)(),(0,r.iD)("div",b,[(0,r._)("div",C,[""!=this.$store.getters.getConnexion.authStore.model.profil?((0,r.wg)(),(0,r.iD)("img",{key:0,src:this.$store.getters.getConnexion.authStore.model.profil,alt:"user-profil"},null,8,D)):(0,r.kq)("",!0)]),""==this.$store.getters.getConnexion.authStore.model.profil?((0,r.wg)(),(0,r.iD)("div",x,[M,(0,r._)("input",{type:"file",onChange:t[0]||(t[0]=(...e)=>i.addprofile&&i.addprofile(...e)),name:"profil",id:"profil"},null,32)])):(0,r.kq)("",!0),(0,r._)("div",U,(0,_.zw)(this.$store.getters.getConnexion.authStore.model.name),1)])):(0,r.kq)("",!0),n.isAuth?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(a,{key:1,class:"btn btn-dark",to:"login/sign-in"},{default:(0,r.w5)((()=>[(0,r.Uk)("Se connecter")])),_:1})),n.isAuth?((0,r.wg)(),(0,r.iD)("button",{key:2,title:"se deconnecter",class:"btn btn-dark",onClick:t[1]||(t[1]=(...e)=>i.logout&&i.logout(...e))},F)):(0,r.kq)("",!0),O])])}s(7658);var H=s(6943),P={name:"NavBar",data(){return{isAuth:!0}},setup(){const e=e=>{console.log("Handle the response",e)};return{callback:e}},created:function(){!1===this.$store.getters.getConnexion.authStore.isValid?this.isAuth=!1:this.isAuth=this.$store.getters.getConnexion.authStore.isValid,console.log(this.isAuth)},methods:{addprofile(e){console.log(e.target);let t=e.target.files[0],s=new FormData;s.append("file",t),H.Z.post("http://127.0.0.1:3001/api/upload",s).then((async e=>{let t=e.data,s=await this.$store.getters.getConnexion.collection("users").update(this.$store.getters.getConnexion.authStore.model.id,{profil:t.url});console.log(s)}))},handleUser(){console.log(this.$store.state.user)},async logout(){await this.$store.getters.getConnexion.authStore.clear(),this.$router.push("/login/sign-in")},onSuccess(e){console.log(e),console.log(e.getBasicProfile())}}};const E=(0,a.Z)(P,[["render",I]]);var q=E,K=s.p+"img/croods.4483da20.png",J="data:image/png;base64,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";const z={class:"row m-0 m-5 HomeShareFile_"},j=(0,r._)("div",{class:"col-lg-6 HomeShareFile_Ullustration"},[(0,r._)("img",{src:K,alt:""})],-1),V={class:"col-lg-6 HomeShareFile_Detail"},Q=(0,r._)("h2",null,"Partagez vos fichiers en toute securité",-1),Z={key:0,class:"row"},R={class:"mt-3 HomeShareFile_Detail-Confirmation"},N={class:"py-2 HomeShareFile_ContainerIconFile"},Y=(0,r._)("i",{class:"fa fa-times-circle"},null,-1),L=[Y],G=(0,r._)("img",{class:"mx-auto d-block",src:J,alt:"File upload "},null,-1),T={class:"mt-1"},W={class:"mt-4 d-flex align-content-center justify-content-center HomeShareFile_FileDrop",action:""},X=(0,r._)("label",{for:"FileShare"},"Glisé & Déposé ",-1),$={key:0,class:"text-dark"},ee={key:0,id:"overflow"},te=(0,r._)("i",{class:"fa fa-times"},null,-1),se=[te],oe=(0,r._)("h2",{class:"mb-4"},"Lien de téléchargement",-1),re=["value"];function ne(e,t,s,o,n,i){return(0,r.wg)(),(0,r.iD)("section",z,[j,(0,r._)("div",V,[Q,n.FileOpenOnBrowser?((0,r.wg)(),(0,r.iD)("div",Z,[(0,r._)("div",R,[(0,r._)("div",N,[(0,r._)("button",{onClick:t[0]||(t[0]=(...e)=>i.HandleRemoveFile&&i.HandleRemoveFile(...e))},L),G]),(0,r._)("p",T,(0,_.zw)(i._File.get("file")["name"]),1)])])):(0,r.kq)("",!0),n.FileOpenOnBrowser?((0,r.wg)(),(0,r.iD)("button",{key:1,onClick:t[1]||(t[1]=(...e)=>i.HandleToUpload&&i.HandleToUpload(...e)),class:"btn btn-primary mt-2"},"Partager")):(0,r.kq)("",!0),(0,r._)("form",W,[X,(0,r.Uk)("   "),(0,r._)("input",{type:"file",name:"fileShare",id:"FileShare",onChange:t[2]||(t[2]=(...e)=>i.HandleChange&&i.HandleChange(...e))},null,32),n.FileOpenOnBrowser?((0,r.wg)(),(0,r.iD)("span",$,(0,_.zw)(n.FileSize)+" Mo ",1)):(0,r.kq)("",!0)])]),n.Uploaded?((0,r.wg)(),(0,r.iD)("div",ee,[(0,r._)("button",{class:"btn",onClick:t[3]||(t[3]=e=>n.Uploaded=!1)},se),oe,(0,r._)("input",{type:"text",class:"form-control mb-2",value:i._DownloadFile},null,8,re),(0,r._)("button",{onClick:t[4]||(t[4]=(...e)=>i.copyLink&&i.copyLink(...e)),class:"btn btn-primary mt-2"},"copiez !")])):(0,r.kq)("",!0)])}var ie=s(8039),ae={name:"HomeShareFile",computed:{_File(){return this.File},_DownloadFile(){return this.DownloadFile}},data(){return{FileOpenOnBrowser:!1,File:new FormData,FileSize:0,Uploaded:!1,DownloadFile:""}},methods:{copyLink(){navigator.clipboard.writeText(this._DownloadFile),this.FileOpenOnBrowser=!1},HandleChange(e){this.FileOpenOnBrowser=!0;let t=e.target.files[0],s=t.size/1024/1024;this.FileSize=s.toFixed(2),this.File.set("file",t)},HandleRemoveFile(){this.File.delete("file"),this.FileOpenOnBrowser=!1},async HandleToUpload(){const e=new ie.ZP("http://127.0.0.1:8090");this.Uploaded=!0;let t={headers:{" Access-Control-Allow-Origin":"http://127.0.0.1:3001","Cross-Origin":"Same Origin"},onUploadProgress:e=>{const{loaded:t,total:s}=e;let o=Math.floor(100*t/s);o<100&&console.log(`loaded ${o} %`)}};H.Z.post("http://127.0.0.1:3001/api/upload",this.File,t).then((async t=>{let s=t.data;this.DownloadFile=s.url;let o=await e.collection("file").create({name:s.name,mimetype:s.mimetype,size:s.size,url:s.url,user:this.$store.getters.getConnexion.authStore.model.id});console.log(o),this.FileOpenOnBrowser=!1}))}}};const le=(0,a.Z)(ae,[["render",ne]]);var ce=le,ue={name:"HomeView",components:{NavBarVue:q,HomeShareFileVue:ce}};const de=(0,a.Z)(ue,[["render",k]]);var me=de;const ge={class:"row container d-flex mx-auto mt-5 CreationJoinServer_"},pe={class:"col-md-6 CreationJoinServer_JoinServer"},he={key:0,class:"error alert-danger p-2 mb-2"},fe=(0,r._)("h1",null," Joindre un serveur diffusion ",-1),ve={action:"",class:"mt-4"},we={class:"form-group"},ke=(0,r._)("label",{for:""},"Identifiant du serveur",-1),_e={class:"validation-server-id"},ye={key:0,class:"fa fa-sync fa-spin text-danger"},Se={key:1,class:"fa fa-check-circle text-success"},Ae={key:0,class:"form-group"},be=(0,r._)("label",{for:""},"Mot de passe",-1),Ce=(0,r._)("i",{class:"fa fa-arrow-right ml-2"},null,-1);function De(e,t,s,n,i,a){const l=(0,r.up)("NavBarVue");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(l),(0,r._)("section",ge,[(0,r._)("div",pe,[i.error?((0,r.wg)(),(0,r.iD)("div",he,"cette serveur n'existe pas dans le plateforme, veuillez inseré le bon indentifiant ou mot de passe")):(0,r.kq)("",!0),fe,(0,r._)("form",ve,[(0,r._)("div",we,[ke,(0,r._)("div",_e,[(0,r.wy)((0,r._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>i.idServer=e),placeholder:" Exemple: Fz45tl"},null,512),[[o.nr,i.idServer]]),(0,r.Uk)(),a._server?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("i",ye)),a._server?((0,r.wg)(),(0,r.iD)("i",Se)):(0,r.kq)("",!0)])]),i.hasPassword?((0,r.wg)(),(0,r.iD)("div",Ae,[be,(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e),class:"form-control",placeholder:"mot de passe"},null,512),[[o.nr,i.password]])])):(0,r.kq)("",!0),(0,r._)("button",{type:"button",onClick:t[2]||(t[2]=(...e)=>a.handleJoinServer&&a.handleJoinServer(...e)),class:"btn Joindre mt-3"},[(0,r.Uk)("Joindre "),Ce])])])])],64)}const xe=new ie.ZP("http://127.0.0.1:8090");var Me={name:"JoinServerView",components:{NavBarVue:q},computed:{_server(){return this.checkServer(),this.verify}},data(){return{error:!1,hasPassword:!0,verify:!1,idServer:"",password:"",serverInformation:void 0}},methods:{checkServer(){let e=xe.collection("room").getFirstListItem(`identifiant="${this.idServer}"`);e.then((e=>(this.serverInformation=e,""==e.password&&(this.hasPassword=!1),this.hasPassword=!0,this.verify=!0,e))).catch((()=>{this.verify=!1,this.serverInformation=void 0}))},handleJoinServer(){let e=xe.collection("room").getFirstListItem(`identifiant="${this.idServer}" && password="${this.password}"`);e.then((e=>{this.error=!1,this.$router.push(`/diffusion/${e.id}/${e.identifiant}`)})).catch((()=>{this.error=!0}))}}};const Ue=(0,a.Z)(Me,[["render",De]]);var Be=Ue;const Fe={class:"row container d-flex mx-auto mt-5 CreationJoinServer_"},Oe={class:"col-md-6 CreationJoinServer_JoinServer"},Ie=(0,r._)("h1",null,"Serveur de diffusion",-1),He={key:0,class:"alert-success p-4"},Pe={action:"",class:"mt-4"},Ee={class:"form-group"},qe=(0,r._)("label",{for:""},"Identifiant du serveur",-1),Ke={class:"form-group"},Je=(0,r._)("label",{for:""},"Mot de passe",-1),ze=(0,r._)("i",{class:"fa fa-arrow-right ml-2"},null,-1),je=(0,r._)("i",{class:"fa fa-arrow-right ml-2"},null,-1);function Ve(e,t,s,n,i,a){const l=(0,r.up)("NavBarVue");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(l),(0,r._)("section",Fe,[(0,r._)("div",Oe,[Ie,i.message?((0,r.wg)(),(0,r.iD)("div",He," Le serveur est crée avec succées ! ")):(0,r.kq)("",!0),(0,r._)("form",Pe,[(0,r._)("div",Ee,[qe,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.room=e),type:"text",class:"form-control",placeholder:"example:Room-L3"},null,512),[[o.nr,i.room]])]),(0,r._)("div",Ke,[Je,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e),type:"text",class:"form-control",placeholder:"mot de passe"},null,512),[[o.nr,i.password]])]),i.created?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("button",{key:0,onClick:t[2]||(t[2]=(...e)=>a.createServer&&a.createServer(...e)),class:"btn Joindre mt-3"},[(0,r.Uk)(" Creer "),ze])),i.created?((0,r.wg)(),(0,r.iD)("button",{key:1,onClick:t[3]||(t[3]=(...e)=>a.joinServeur&&a.joinServeur(...e)),class:"btn Joindre mt-3"},[(0,r.Uk)(" joindre "),je])):(0,r.kq)("",!0)])])])],64)}var Qe={name:"CreationServerView",components:{NavBarVue:q},data(){return{room:"",password:"",created:!1,message:!1,serveur:""}},methods:{createServer(e){e.preventDefault();const t={password:this.password,identifiant:this.room,admin:this.$store.getters.getConnexion.authStore.model.id};console.log(t);const s=this.$store.getters.getConnexion.collection("room").create(t);console.log(s),s.then((e=>{this.message=!0,this.created=!0,this.serveur=e})).catch((e=>{console.log(e)}))},joinServeur(){this.$router.push(`/diffusion/${this.serveur.id}/${this.serveur.identifiant}`)}}};const Ze=(0,a.Z)(Qe,[["render",Ve]]);var Re=Ze,Ne=s(4870),Ye=s(3627),Le=s.n(Ye),Ge="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAEgElEQVRYCe2Zy2tUVxzHz+jkYdIkglnYhTRaJaI0goZSVNRFWwrdFNpFUVDQlZsIio/6AkHpvu0f0EXRhYpotbHW1hZqC6mJaIwxvsAHWhdOqpIYo+b6+U7O7dwkM+O9kzvxLOby/ZzfmfP4ne+5c+/MncSY0lE6A6UzkO8MJPJ1RunzPG8649+HZmiEOVAHQT3ixVXogXZoSyQS/xLfrDA/E3ZBB2TTSxpTliFiNrXTuBMazEQfLLoMToKMEtLqpPwWVsIimDbaF2310Ayr4DvoAl/K9RMvloyeF/trFpkNWoyQ1jXKbTCr0MWY+y58BdfB1zEqBefM6YWkCdgI/SDpTH5GJc57TGt8Ts5ukPooNkA8a5CoFo6A9JRiKyRz7nqcHcoN22EApMMUNeNKS4J6OAdSN8X8cSWMMJm1muAKSG0UY+65UOmYWAcXQTpN8VaoiTEOYs0a+A2k8xTR3hkmJOEXkBSnxOgvUioMVMEZb/hoJUwOnYDBu0DSO1IbemKRBmJkKnSBtC3UMozUtTlIfAL6dg41r9iD8DIX+uAZvP5eZZDuB4K3vtjmoubHVAtIJ/POZcQKkLooivYRm9dEnk48lYH/SbY051AGHQRpZc5Bb7gDc6tBOpDVCj21oHvjHrEs6yAHGvFWAQ9gAP7/SpgU8PYxdW3gRx6tn1N3Unh7hrHjUAEfQlrBjSxOtxhz2kaXwylrbomNJriR92zjBRtdDr5H33PGK9dbNwxBMtPqZg2P5SB1+Q6D74h+lvZzDb7wO12NeBzEWz9MhbSCG/FoiefZn0QTreBGUiyuB7RKotPimirHYBX8B2kFN/Ig3WLMOza6HGZZc3dsHPGp1WEbm210OSyw5jptHLGRNtu43EaXwyfW3FkbM4HrTo8o+uNCirq+NTOdDtXwVgkPQY8o1Vmt0bkfpFVZBzjQiLk13vBxIKcd+j8AqYfCuS9GeYIrIC3NuRF1MKIVpBa9dglMtYCU/4eVTDOqCQagDxrV5gJ4mQvyJG/zQ3liwmaQOinqQk0q4iA8BP/4sDH0UkycBEdB+pWiMvTkmAeydjWc8YaPg4Roj1FMqIZ/QPqdYsLfGdacBn+BdJZiSkHniYlK9CdRukTRVFCiAiax1gK4CZI2U1tAmswUslTCfpB0o23K9MZfY5EkbAetRfAOUdTEthLJ1sIQ3I0taSARectgjed510Dqo9gA0e6JQM6sVRLOAOnvrAMKbCSh/tGzg3gXfB2jMjNKymSEwcvs2HYbRwQW3kPDdOiw3CD28mvOI6bFmHoqDcaYRlgMK4wx80AaomiFfcwZ+zBIRyzCxAmQPgompEH/adpLzKUUHUKXJdUxaqdlJzSYcRyJMHNZ5G3G3Yb70MAZ09kztFfz+ntjzBfQC1tgBiwEzakiVoCvR1SuQg/onZ3Yf09j+BuQdmNAG0jy4ku4BdJlijnqcxYMLoRBeAyfwtdwG3z9QKXO2Q3IGAbL4SKMlq73n2lcrnEu8LpPrXWY1Bhdz73UU/AHnOI+uU4sqXQGcpyBV9suuF/ryMwFAAAAAElFTkSuQmCC";const Te=["id"],We={class:"col-1 m-0"},Xe={class:"User_Profil mt-1"},$e=["src"],et={class:"col-10"},tt={key:0},st={class:"Discussion-Content-Message mt-1 p-2"};function ot(e,t,s,o,n,i){return(0,r.wg)(),(0,r.iD)("div",{class:"Discussion-Content row m-0 mt-1",id:s.userId==this.$store.getters.getConnexion.authStore.model.id?"isMe":""},[(0,r._)("div",We,[(0,r._)("div",Xe,[s.profil?((0,r.wg)(),(0,r.iD)("img",{key:0,src:s.profil,alt:""},null,8,$e)):(0,r.kq)("",!0),(0,r._)("span",null,(0,_.zw)(s.sender.substr(0,1).toUpperCase()),1)])]),(0,r._)("div",et,[(0,r._)("small",null,[(0,r.Uk)((0,_.zw)(s.sender)+" ",1),s.userId==this.$store.getters.getConnexion.authStore.model.id?((0,r.wg)(),(0,r.iD)("span",tt," (Me)")):(0,r.kq)("",!0)]),(0,r._)("p",st,(0,_.zw)(s.message),1)])],8,Te)}var rt={name:"BoxMessage",props:{profil:String,message:String,sender:String,userId:String},mounted(){}};const nt=(0,a.Z)(rt,[["render",ot]]);var it=nt,at=s(65);const lt=new ie.ZP("http://127.0.0.1:8090"),ct=(0,at.MT)({state:{page:1,messages:[],pb:lt,pdf:"url"},mutations:{storeMessages(e,t){e.messages=t},storeCurentPage(e,t){e.page=t},pushMessage(e,t){e.messages.push(t)}},actions:{storeMessages({commit:e},t){ct.commit("storeMessages",t)},storeCurentPage({commit:e},t){ct.commit("storeCurentPage",t)},pushMessage({commit:e},t){ct.commit("pushMessage",t)}},getters:{getMessage(e){return e.messages},getPage(e){return parseInt(e.page)},getConnexion(e){return e.pb}},modules:{}});var ut=ct;const dt={key:0,class:"Discussion col-lg-4 p-0 ml-auto"},mt=(0,r._)("div",{class:"text-center"},[(0,r._)("h1",null,"Discussion")],-1),gt=(0,r._)("i",{class:"fa fa-arrow-right"},null,-1),pt=[gt],ht={class:"Discussion-Container pt-1 px-2"},ft={class:"text-center my-2"},vt=(0,r._)("div",{class:"Send-File_visualisation row m-0 p-2"},null,-1),wt={class:"px-2"},kt=(0,r._)("div",{class:"Select-file"},[(0,r._)("label",{for:"Find-File",role:"button"},[(0,r._)("i",{class:"fa fa-file-import"})]),(0,r._)("input",{type:"file",id:"Find-File",style:{display:"none"}})],-1),_t={key:0},yt=(0,r._)("img",{src:Ge,alt:"",srcset:""},null,-1),St=new ie.ZP("http://127.0.0.1:8090"),At={name:"BoxDiscussion",computed:{_allMessages(){return this.notification+=1,this.$store.getters.getMessage},_notification(){return this.notification}},data(){return{isShowDiscussion:!0,message:"",roomId:"",allMessage:[],notification:0,discussionScroller:[],serveur:[]}},async mounted(){let e=this.$route.params.roomId;this.roomId=e;let t=await St.collection("message").getList(1,50,{filter:`room_id = "${e}"`,expand:"user_id"});ut.commit("storeMessages",t.items),St.collection("room").subscribe(e,(async function(e){let t=e.record.new_message,s=await St.collection("message").getOne(`${t}`,{expand:"user_id"});ut.commit("pushMessage",s)})),this.serveur=await St.collection("room").getOne(`${e}`,{}),this.scrollDown()},methods:{hideDiscussion(){this.isShowDiscussion=!1},scrollDown(){let e=document.querySelector(".Discussion-Container");this.discussionScroller=e,this.discussionScroller.scrollTop=this.discussionScroller.scrollHeight+40},showDiscussion(){this.isShowDiscussion=!0,this.notification=0},async handleSend(e){if("Enter"==e.key&&""!=this.message){const e={message:this.message,user_id:this.$store.getters.getConnexion.authStore.model.id,room_id:this.roomId};console.log(e);let t=await this.$store.getters.getConnexion.collection("message").create(e),s=await this.$store.getters.getConnexion.collection("room").getOne(`${this.roomId}`,{});return s.messages.push(t.id),s.new_message=t.id,await this.$store.getters.getConnexion.collection("room").update(`${this.roomId}`,s),this.message="",void this.scrollDown()}}}};var bt=Object.assign(At,{setup(e){return(e,t)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[e.isShowDiscussion?((0,r.wg)(),(0,r.iD)("div",dt,[(0,r._)("header",null,[mt,(0,r._)("button",{class:"btn Hide-Box_Discussion",onClick:t[0]||(t[0]=(...t)=>e.hideDiscussion&&e.hideDiscussion(...t))},pt)]),(0,r._)("div",ht,[(0,r._)("h3",ft,"#_"+(0,_.zw)(e.serveur.identifiant),1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e._allMessages,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t},[(0,r.Wm)(it,{message:e.message,sender:e.expand.user_id.name,profil:e.expand.user_id.profil,userId:e.expand.user_id.id},null,8,["message","sender","profil","userId"])])))),128))]),vt,(0,r._)("footer",wt,[kt,(0,r.wy)((0,r._)("input",{type:"text",class:"Text-Message","onUpdate:modelValue":t[1]||(t[1]=t=>e.message=t),placeholder:"Message...",onKeydown:t[2]||(t[2]=(...t)=>e.handleSend&&e.handleSend(...t))},null,544),[[o.nr,e.message]])])])):(0,r.kq)("",!0),e.isShowDiscussion?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("button",{key:1,class:"Show-Box_Discussion",onClick:t[3]||(t[3]=(...t)=>e.showDiscussion&&e.showDiscussion(...t))},[0!=e.notification?((0,r.wg)(),(0,r.iD)("div",_t,[(0,r._)("span",null,(0,_.zw)(e._notification),1)])):(0,r.kq)("",!0),yt]))],64))}});const Ct=bt;var Dt=Ct;const xt={class:"Diffusion-Container row m-0 p-2"},Mt={class:"col-lg-6 document-viewer"},Ut={class:"control"},Bt=(0,r._)("i",{class:"fa fa-angle-left"},null,-1),Ft=[Bt],Ot=(0,r._)("i",{class:"fa fa-angle-right"},null,-1),It=[Ot],Ht={class:"action"},Pt=["href"],Et=(0,r._)("i",{class:"fa fa-arrow-down mr-2"},null,-1),qt={name:"DiffusionView",components:{BoxDiscussion:Dt},computed:{_curentPage(){return console.log("called"),console.log(this.$store.getters.getPage),this.$store.getters.getPage},_room(){return this.room}},data(){return{realtimeConnection:null,room:"",isShowDiscussion:Boolean,pdfUrl:"http://127.0.0.1:3001/api/download/a2beb442-97ce-4824-8648-7ce438698b3820-mots-pour-enrichir-son-vocabulaire-professionnel-4.pdf"}},methods:{hideDiscussion(){this.isShowDiscussion=!1},async nextPage(){let e=this.$store.getters.getPage+1;ut.commit("storeCurentPage",e);let t={action:"currentpage",room:this._room,page:e};await this.connection.send(JSON.stringify(t))},async previousPage(){if(this.$store.getters.getPage>1){let e=this.$store.getters.getPage-1;ut.commit("storeCurentPage",e);let t={action:"currentpage",room:this._room,page:e};await this.connection.send(JSON.stringify(t))}}},created:function(){let e=new WebSocket("ws://127.0.0.1:5500");this.connection=e;let t=this.$route.params.roomId;this.room=t;let s={action:"configuration",room:t};this.connection.onmessage=function(e){let t=parseInt(e.data);ut.commit("storeCurentPage",t)},this.connection.onopen=function(){e.send(JSON.stringify(s))}}};var Kt=Object.assign(qt,{setup(e){return(e,t)=>((0,r.wg)(),(0,r.iD)("div",xt,[(0,r._)("div",Mt,[(0,r.Wm)((0,Ne.SU)(Le()),{source:e.pdfUrl,page:e._curentPage,width:"550"},null,8,["source","page"]),(0,r._)("div",Ut,[(0,r._)("button",{onClick:t[0]||(t[0]=(...t)=>e.previousPage&&e.previousPage(...t)),class:"previous-page"},Ft),(0,r._)("button",{onClick:t[1]||(t[1]=(...t)=>e.nextPage&&e.nextPage(...t)),class:"next -page"},It)]),(0,r._)("div",Ht,[(0,r._)("a",{role:"button",href:e.pdfUrl,class:"btn btn-primary"},[Et,(0,r.Uk)(" Télécharger ")],8,Pt)])]),(0,r.Wm)(Dt)]))}});const Jt=Kt;var zt=Jt;const jt={class:"login container mt-5 pt-5"},Vt={class:"content mt-5"},Qt=(0,r._)("h1",{class:"mt-5"},[(0,r.Uk)("Hi-zara."),(0,r._)("span",{class:"domain-name"},"mg")],-1),Zt={class:"mb-3 d-inline"},Rt={class:"text-primary"},Nt={action:"",class:"w-50 mt-3"},Yt={key:0,class:"alert alert-danger my-2 w-75"},Lt=(0,r._)("strong",null,"Erreur !",-1),Gt={class:"form-group"},Tt=(0,r._)("label",{class:"form-label",for:""},"Email",-1),Wt={class:"form-group mt-3"},Xt=(0,r._)("label",{class:"form-label",for:""},"Mot de passe",-1);function $t(e,t,s,n,i,a){const l=(0,r.up)("RouterLink");return(0,r.wg)(),(0,r.iD)("div",jt,[(0,r._)("div",Vt,[Qt,(0,r._)("p",Zt,[(0,r.Uk)("Vous n'avez pas encore une compte ? "),(0,r._)("span",Rt,[(0,r.Wm)(l,{to:"/login/sign-up"},{default:(0,r.w5)((()=>[(0,r.Uk)("S' enregistrer")])),_:1})])]),(0,r._)("form",Nt,[i.messageError?((0,r.wg)(),(0,r.iD)("div",Yt,[Lt,(0,r.Uk)(" "+(0,_.zw)(i.messageError),1)])):(0,r.kq)("",!0),(0,r._)("div",Gt,[Tt,(0,r.wy)((0,r._)("input",{required:"",onChange:t[0]||(t[0]=(...e)=>a.handleChange&&a.handleChange(...e)),"onUpdate:modelValue":t[1]||(t[1]=e=>i.email=e),type:"email",class:"form-control w-75",placeholder:"Email ..."},null,544),[[o.nr,i.email]])]),(0,r._)("div",Wt,[Xt,(0,r.wy)((0,r._)("input",{required:"",onChange:t[2]||(t[2]=(...e)=>a.handleChange&&a.handleChange(...e)),"onUpdate:modelValue":t[3]||(t[3]=e=>i.password=e),type:"password",class:"form-control w-75",placeholder:"Mot de passe ..."},null,544),[[o.nr,i.password]])]),(0,r._)("button",{role:"submit",type:"button",onClick:t[4]||(t[4]=(...e)=>a.handleSubmit&&a.handleSubmit(...e)),class:"btn btn-dark w-75 mt-5"},"Se connecter")])])])}var es={data(){return{email:"",password:"",messageError:""}},methods:{handleChange(){this.messageError=""},async handleSubmit(e){e.preventDefault();let t=this.$store.getters.getConnexion.collection("users").authWithPassword(this.email,this.password);t.then((e=>{console.log(e),this.$store.getters.getConnexion.authStore.isValid&&this.$router.push("/")})).catch((()=>{this.messageError="Email ou mot de passe incorrect, veuillez insérer la bonne credentiel ! "}))}}};const ts=(0,a.Z)(es,[["render",$t]]);var ss=ts;const os={class:"login container mt-5 pt-5"},rs={class:"content mt-5"},ns=(0,r._)("h1",{class:"mt-5"},[(0,r.Uk)("Hi-zara."),(0,r._)("span",{class:"domain-name"},"mg")],-1),is={class:"mb-3"},as={class:"text-primary"},ls={action:"",class:"w-50 mt-3"},cs={class:"form-group"},us=(0,r._)("label",{class:"form-label",for:""},"Nom",-1),ds={class:"form-group mt-3"},ms=(0,r._)("label",{class:"form-label",for:""},"Email",-1),gs={class:"text-danger"},ps={class:"form-group mt-"},hs=(0,r._)("label",{class:"form-label",for:""},"Mot de passe",-1),fs=(0,r._)("small",{class:"invalid-feedback"},"Mot de passe trop cour ",-1);function vs(e,t,s,n,i,a){const l=(0,r.up)("RouterLink");return(0,r.wg)(),(0,r.iD)("div",os,[(0,r._)("div",rs,[ns,(0,r._)("p",is,[(0,r.Uk)(" Vous avez déjà une compte ? "),(0,r._)("span",as,[(0,r.Wm)(l,{to:"sign-in"},{default:(0,r.w5)((()=>[(0,r.Uk)("Se connecter")])),_:1})])]),(0,r._)("form",ls,[(0,r._)("div",cs,[us,(0,r.wy)((0,r._)("input",{required:"","onUpdate:modelValue":t[0]||(t[0]=e=>i.name=e),type:"text",class:"form-control w-75",placeholder:"Nom ..."},null,512),[[o.nr,i.name]])]),(0,r._)("div",ds,[ms,(0,r.wy)((0,r._)("input",{required:"","onUpdate:modelValue":t[1]||(t[1]=e=>i.email=e),type:"email",class:"form-control w-75",placeholder:"Email ..."},null,512),[[o.nr,i.email]]),(0,r._)("small",gs,(0,_.zw)(i.messageErrorEmail),1)]),(0,r._)("div",ps,[hs,(0,r.wy)((0,r._)("input",{required:"",minlength:"8","onUpdate:modelValue":t[2]||(t[2]=e=>i.password=e),type:"password",class:"form-control w-75",placeholder:"Mot de passe a 8 caractére"},null,512),[[o.nr,i.password]]),fs]),(0,r._)("button",{role:"submit",onClick:t[3]||(t[3]=(...e)=>a.handleSubmit&&a.handleSubmit(...e)),class:"btn btn-dark w-75 mt-5"}," S' enregistrer ")])])])}var ws={data(){return{name:"",email:"",password:"",messageErrorEmail:""}},methods:{async handleSubmit(e){e.preventDefault();const t={username:"",email:this.email,emailVisibility:!0,password:this.password,passwordConfirm:this.password,name:this.name};let s=this.$store.getters.getConnexion.collection("users").create(t);s.then((()=>{this.$store.getters.getConnexion.collection("users").requestVerification(this.email),this.$router.push("/login/sign-in")})).catch((()=>{this.messageErrorEmail="Cette email est déjà prise , veuillez utilisez un autre adresse !"}))}}};const ks=(0,a.Z)(ws,[["render",vs]]);var _s=ks;const ys=[{path:"/",name:"Home page",component:me,meta:{requiresAuth:!1}},{path:"/join-server",name:"join server page",component:Be,meta:{requiresAuth:!0}},{path:"/creation-server",name:"Creation server page",component:Re,meta:{requiresAuth:!0}},{path:"/login",name:"login route",meta:{requiresAuth:!1},children:[{path:"sign-in",name:"sign-in route",component:ss,meta:{requiresAuth:!1},alias:["sign-in"]},{path:"sign-up",name:"sign-up route",component:_s,meta:{requiresAuth:!1}}]},{path:"/diffusion/:roomId/:roomIdentifiant",name:"Diffusion page",component:zt,meta:{requiresAuth:!0}}],Ss=(0,u.p7)({history:(0,u.PO)("/"),routes:ys});var As=Ss,bs=s(6070);let Cs="355830081307-a6ofjnun0q511ps9098st2p19rjecpe6.apps.googleusercontent.com";const Ds=(0,o.ri)(c);Ds.use(ut),Ds.use(bs.ZP,{clientId:Cs}),Ds.use(As).mount("#app")}},t={};function s(o){var r=t[o];if(void 0!==r)return r.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,s),n.exports}s.m=e,function(){var e=[];s.O=function(t,o,r,n){if(!o){var i=1/0;for(u=0;u<e.length;u++){o=e[u][0],r=e[u][1],n=e[u][2];for(var a=!0,l=0;l<o.length;l++)(!1&n||i>=n)&&Object.keys(s.O).every((function(e){return s.O[e](o[l])}))?o.splice(l--,1):(a=!1,n<i&&(i=n));if(a){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[o,r,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,n,i=o[0],a=o[1],l=o[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(r in a)s.o(a,r)&&(s.m[r]=a[r]);if(l)var u=l(s)}for(t&&t(o);c<i.length;c++)n=i[c],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(u)},o=self["webpackChunkfront_line"]=self["webpackChunkfront_line"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(4695)}));o=s.O(o)})();
//# sourceMappingURL=app.1ee26721.js.map